(conferences) => main_template.ori({
	title: "Upcoming Conferences"
	canonical: "/conferences"
	stylesheet: "pages/conferences.css"

	_body: `
	<header>
		<h1>All Upcoming Conferences</h1>
		<p>All of them. Every single one*.</p>
    </header>

	<form id="filter-form">
		<details class="custom-select" name="filter">
			<summary>Countries</summary>
			<fieldset id="countries-list"></fieldset>
		</details>

		<details class="custom-select" name="filter">
			<summary>Tags</summary>
			<fieldset id="tags-list"></fieldset>
		</details>

		<details class="custom-select" name="filter">
			<summary>Format</summary>
			<fieldset id="formats-list"></fieldset>
		</details>

		<details class="custom-select" name="filter">
			<summary>Date</summary>
			<fieldset>
				<label>From: <input type="date" id="date-start" name="date-start"></label>
				<label>To: <input type="date" id="date-end" name="date-end"></label>
			</fieldset>
		</details>

		
		<input type="reset" value="Clear">
	</form>

    <ol>
		${ Tree.map(conferences, (conference, filename) => Tree.size(Tree.filter(conference.events, (event) => Date.parse(event.dates.end) >= Date.now())) > 0 ? `
			<li>
				<h2><a href="/conferences/${ Origami.basename(filename) }">${ conference.title }</a></h2>
				<ul>
					${ Tree.map(Tree.filter(conference.events, (event) => Date.parse(event.dates.end) >= Date.now()), (event, year) => `
						<li>
							<p>${ functions/pretty-date.js(event.dates.start) } ${ event.dates.end ? `to ${ functions/pretty-date.js(event.dates.end) }` : '' }</p>
							${ event.location ? `<p>${ event.location.city }, ${ new Intl.DisplayNames(["en"], { type: "region" }).of(event.location.country) }</p>` : '' }
							${ { virtual: "Virtual", hybrid: "Hybrid" }[event.format] || "" }
							${ event.cfp_open ? `<p class="cfp-open">Call for papers open!</p>` : "" }
						</li>
					`)}
				</ul>
			</li>
		` : "" ) }
	</ol>

	<script src='/assets/scripts/conferences-filter.js'></script>
  `
})
